<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue题型1 | more than thing</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/logo.png">
    <link rel="stylesheet" href="https://unpkg.com/mssui@0.1.13/lib/theme-chalk/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.min.js"></script>
    <script src="https://unpkg.com/mssui@0.1.17/lib/index.js"></script>
    <meta name="description" content="记录生活,点滴成长">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.38dd7ab5.css" as="style"><link rel="preload" href="/assets/js/app.e63ee0a0.js" as="script"><link rel="preload" href="/assets/js/3.7c9fc50b.js" as="script"><link rel="preload" href="/assets/js/4.f3463e41.js" as="script"><link rel="preload" href="/assets/js/51.60b96aa2.js" as="script"><link rel="prefetch" href="/assets/js/1.62a699f0.js"><link rel="prefetch" href="/assets/js/10.c6cd2076.js"><link rel="prefetch" href="/assets/js/11.489a5a09.js"><link rel="prefetch" href="/assets/js/12.72e98be5.js"><link rel="prefetch" href="/assets/js/13.7134793e.js"><link rel="prefetch" href="/assets/js/14.d027d291.js"><link rel="prefetch" href="/assets/js/15.576ec77f.js"><link rel="prefetch" href="/assets/js/16.8108adbd.js"><link rel="prefetch" href="/assets/js/17.86c4531c.js"><link rel="prefetch" href="/assets/js/18.23bce5d2.js"><link rel="prefetch" href="/assets/js/19.352ed2b6.js"><link rel="prefetch" href="/assets/js/20.2854f53b.js"><link rel="prefetch" href="/assets/js/21.e3138912.js"><link rel="prefetch" href="/assets/js/22.2c62e100.js"><link rel="prefetch" href="/assets/js/23.897711fd.js"><link rel="prefetch" href="/assets/js/24.a221b0d0.js"><link rel="prefetch" href="/assets/js/25.08c1cf6f.js"><link rel="prefetch" href="/assets/js/26.147fbd14.js"><link rel="prefetch" href="/assets/js/27.25c4af63.js"><link rel="prefetch" href="/assets/js/28.5246cf11.js"><link rel="prefetch" href="/assets/js/29.5668b5ad.js"><link rel="prefetch" href="/assets/js/30.4bbf6ada.js"><link rel="prefetch" href="/assets/js/31.e33eefbc.js"><link rel="prefetch" href="/assets/js/32.047c7590.js"><link rel="prefetch" href="/assets/js/33.0554f8f2.js"><link rel="prefetch" href="/assets/js/34.a51a2ad5.js"><link rel="prefetch" href="/assets/js/35.37c41fa3.js"><link rel="prefetch" href="/assets/js/36.fb7f7c75.js"><link rel="prefetch" href="/assets/js/37.1201782e.js"><link rel="prefetch" href="/assets/js/38.6caedd61.js"><link rel="prefetch" href="/assets/js/39.ee4f63d3.js"><link rel="prefetch" href="/assets/js/40.28cfd50c.js"><link rel="prefetch" href="/assets/js/41.5efa377e.js"><link rel="prefetch" href="/assets/js/42.9f58b18a.js"><link rel="prefetch" href="/assets/js/43.8407e205.js"><link rel="prefetch" href="/assets/js/44.a8e9412d.js"><link rel="prefetch" href="/assets/js/45.8a2aa610.js"><link rel="prefetch" href="/assets/js/46.d8053e2d.js"><link rel="prefetch" href="/assets/js/47.348b6e20.js"><link rel="prefetch" href="/assets/js/48.885ce488.js"><link rel="prefetch" href="/assets/js/49.ce0022f5.js"><link rel="prefetch" href="/assets/js/5.c536d028.js"><link rel="prefetch" href="/assets/js/50.1c4a37bc.js"><link rel="prefetch" href="/assets/js/52.14ef0e37.js"><link rel="prefetch" href="/assets/js/53.2746648e.js"><link rel="prefetch" href="/assets/js/54.7aaf34f0.js"><link rel="prefetch" href="/assets/js/55.2541c50d.js"><link rel="prefetch" href="/assets/js/56.8a772551.js"><link rel="prefetch" href="/assets/js/57.7b2e222a.js"><link rel="prefetch" href="/assets/js/58.6dc106cd.js"><link rel="prefetch" href="/assets/js/59.4a2f70a1.js"><link rel="prefetch" href="/assets/js/6.fb20a20c.js"><link rel="prefetch" href="/assets/js/60.a6b2ae23.js"><link rel="prefetch" href="/assets/js/61.03ff33d8.js"><link rel="prefetch" href="/assets/js/62.f6d91697.js"><link rel="prefetch" href="/assets/js/63.cd7d8afd.js"><link rel="prefetch" href="/assets/js/64.f1d8a1ca.js"><link rel="prefetch" href="/assets/js/65.b044dbe7.js"><link rel="prefetch" href="/assets/js/66.e43270a0.js"><link rel="prefetch" href="/assets/js/67.23fb0766.js"><link rel="prefetch" href="/assets/js/68.01792d3c.js"><link rel="prefetch" href="/assets/js/69.990a84e5.js"><link rel="prefetch" href="/assets/js/7.75573b11.js"><link rel="prefetch" href="/assets/js/70.9595466f.js"><link rel="prefetch" href="/assets/js/71.90282f26.js"><link rel="prefetch" href="/assets/js/72.95431999.js"><link rel="prefetch" href="/assets/js/73.85fd83f9.js"><link rel="prefetch" href="/assets/js/74.ae21956b.js"><link rel="prefetch" href="/assets/js/75.109bd745.js"><link rel="prefetch" href="/assets/js/76.dc8ac6c4.js"><link rel="prefetch" href="/assets/js/77.c0c32dd8.js"><link rel="prefetch" href="/assets/js/78.8fd56697.js"><link rel="prefetch" href="/assets/js/79.54ebc133.js"><link rel="prefetch" href="/assets/js/8.e1b1b2f6.js"><link rel="prefetch" href="/assets/js/80.aed2bd21.js"><link rel="prefetch" href="/assets/js/81.c9cc2024.js"><link rel="prefetch" href="/assets/js/82.09f92026.js"><link rel="prefetch" href="/assets/js/83.affd0c57.js"><link rel="prefetch" href="/assets/js/84.a5050a9b.js"><link rel="prefetch" href="/assets/js/85.4e92ecfa.js"><link rel="prefetch" href="/assets/js/86.79b21de1.js"><link rel="prefetch" href="/assets/js/87.5816bf0f.js"><link rel="prefetch" href="/assets/js/88.7baeba1c.js"><link rel="prefetch" href="/assets/js/89.135e8076.js"><link rel="prefetch" href="/assets/js/9.74230cd3.js"><link rel="prefetch" href="/assets/js/90.c36766c3.js"><link rel="prefetch" href="/assets/js/91.f27e286d.js"><link rel="prefetch" href="/assets/js/92.6d49ca03.js">
    <link rel="stylesheet" href="/assets/css/0.styles.38dd7ab5.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="more than thing" class="logo"> <span class="site-name can-hide">more than thing</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link firstMenu-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面杂谈" class="dropdown-title"><a href="/pages/7f4764/" class="link-title">页面杂谈</a> <span class="title" style="display:none;">页面杂谈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e42f0c/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/ef83a2/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/c13c31/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/76f4b0/" class="nav-link">TypeScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/pages/a787e4/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bb33b9/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/ddcd99/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端延展" class="dropdown-title"><a href="/pages/a9e92d" class="link-title">前端延展</a> <span class="title" style="display:none;">前端延展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d1fdc6/" class="nav-link">前端安全</a></li><li class="dropdown-item"><!----> <a href="/pages/c926f9/" class="nav-link">微信相关</a></li><li class="dropdown-item"><!----> <a href="/pages/b79286/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/dcb6ce/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><a href="/pages/e46525/" class="nav-link firstMenu-link">算法</a></div><div class="nav-item"><a href="/pages/fcc60b/" class="nav-link firstMenu-link">闲暇之余</a></div> <a href="https://github.com/zhouyalongs/zhouyalongs.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/MssText/learn@master/images/49203535.35emn5vryma0.png"> <div class="blogger-info"><h3>zhouyalong</h3> <span>会当凌绝顶,一览众山小</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link firstMenu-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="页面杂谈" class="dropdown-title"><a href="/pages/7f4764/" class="link-title">页面杂谈</a> <span class="title" style="display:none;">页面杂谈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e42f0c/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/ef83a2/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/c13c31/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/76f4b0/" class="nav-link">TypeScript</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/pages/a787e4/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bb33b9/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/ddcd99/" class="nav-link">React</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端延展" class="dropdown-title"><a href="/pages/a9e92d" class="link-title">前端延展</a> <span class="title" style="display:none;">前端延展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d1fdc6/" class="nav-link">前端安全</a></li><li class="dropdown-item"><!----> <a href="/pages/c926f9/" class="nav-link">微信相关</a></li><li class="dropdown-item"><!----> <a href="/pages/b79286/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/dcb6ce/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><a href="/pages/e46525/" class="nav-link firstMenu-link">算法</a></div><div class="nav-item"><a href="/pages/fcc60b/" class="nav-link firstMenu-link">闲暇之余</a></div> <a href="https://github.com/zhouyalongs/zhouyalongs.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>基础入门</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>全家桶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>源码解读</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>常见问题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/35afb6/" aria-current="page" class="active sidebar-link">Vue题型1</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-783bcf04><div class="articleInfo" data-v-783bcf04><ul class="breadcrumbs" data-v-783bcf04><li data-v-783bcf04><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-783bcf04></a></li> <li data-v-783bcf04><a href="/pages/a787e4/" title="三大框架-目录页" data-v-783bcf04>三大框架</a></li> <li data-v-783bcf04><a href="/pages/a787e4//#Vue" title="三大框架#Vue" data-v-783bcf04>Vue</a></li> <li data-v-783bcf04><a href="/pages/a787e4//#常见问题" title="三大框架#常见问题" data-v-783bcf04>常见问题</a></li></ul> <div class="info" data-v-783bcf04><div title="作者" class="author iconfont icon-touxiang" data-v-783bcf04><a href="https://github.com/zhouyalongs" target="_blank" title="作者" class="beLink" data-v-783bcf04>zhouyalong</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-783bcf04><a href="javascript:;" data-v-783bcf04>2021-11-23</a></div> <!----> <div class="date iconfont icon-yuedu" data-v-783bcf04><span data-v-783bcf04>时间 19分钟</span></div> <div id="/pages/35afb6/" data-flag-title="Vue题型1" class="leancloud_visitors date iconfont icon-eye" data-v-783bcf04><span class="post-meta-item-text" data-v-783bcf04>阅读量 </span> <span class="leancloud-visitors-count" data-v-783bcf04>0</span></div></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          Vue题型1
        </h1> <!----> <div class="theme-vdoing-content content__default"><h3 id="_01-v-if和v-for哪个优先级高"><a href="#_01-v-if和v-for哪个优先级高" class="header-anchor">#</a> 01-v-if和v-for哪个优先级高</h3> <ol><li>v-for优先于v-if被解析( 循环输出children, return 三元表达式)</li> <li>同级时会先执行循环在判断条件,无论如何循环都不可避免,浪费了性能</li> <li>要避免这种情况, 同级时对循环数组进行过滤,保证循环的数组都是需要展示的, 不同级时, v-if放之前</li></ol> <h3 id="_02-vue组件data要函数形式"><a href="#_02-vue组件data要函数形式" class="header-anchor">#</a> 02-vue组件data要函数形式</h3> <p>Vue组件可能存在多个实例,如果定义一个对象形式的data,则会造成他们共用同一个data对象,状态变化将会影响所有组件实例,采用函数形式则,每次执行函数都会返回全新的data对象实例,防止数据之前的污染.而Vue根实例只有一个,不要这种限制</p> <h3 id="_03-key的作用和原理"><a href="#_03-key的作用和原理" class="header-anchor">#</a> 03-key的作用和原理</h3> <p>A B C D E
A B F C D E</p> <ol><li>不使用key则会遇见元素就进行更新, 更新三次 C D E 最后创建E 插入到最后</li> <li>使用key之后先从 A B 然后 从 E D C 找到 F 差异 创建F插入到C之前</li></ol> <p>作用:</p> <ol><li>key的作用主要是为了高效的更新虚拟DOM,在patch过程中通过key来判断两个节点是否相同,提高patch过程,减少DOM操作,提高性能</li> <li>若不设置解key可能在列表更新时引发一些隐蔽的bug(按钮少一个)</li> <li>Vue在使用相同标签名元素的过渡切换时,也会用到key,使Vue便于区分元素,从而触发过渡效果</li></ol> <h3 id="_04-diff"><a href="#_04-diff" class="header-anchor">#</a> 04-diff</h3> <p>核心基于两个假设 1. 相同的组件产生相同的DOM结构,不同的组件产生不同的DOM结构,不同的组件产生不同的DOM结构,2 同一层级的一组节点,他们可以通过唯一的key进行区分
策略: 深度优先 同级比较</p> <p>先根据真实DOM生成一棵virtual DOM 当 virtual DOM 某个节点发生改变时生成一个Vnode,然后 Vnode与oldVnode进行对比,发现不一样的之低昂直接修改咋真是的DOM上,然后使oldVnode的值为Vnode, diff的过程是调用patch函数,一边比较一边给真实的DOM打补丁</p> <p>当数据发生改变时, set会调用notify通知所有的Watcher, Watcher会调用patch给真实的DOM打补丁,更新相应的视图</p> <p>patch :</p> <ol><li>先判断两个节点是否值得比较, 如果两个节点一样则深入检查他们的子节点,如不一样则用Vnode直接替换oldVnode
sameVnode
. key (key值)
. tag (标签名)
. isComment (是否为注释节点)
. isDef(a.data) (是否都定义了data onclick style 标签上的属性)
. sameInput(a, b) (当标签是input的时候，type必须相同)</li> <li>如果值得比较则调用patchVnode方法
· 找到对应的真是dom 成为el
· 判断 Vnode 与 oldVnode是否指向同一个对象,如果是直接return
· 如果他们的文本节点不相等 则将el的文本节点设置为Vnode的文本节点
· 如果oldVnode有子节点,而Vnode没有 则删除el的子节点
· 如果oldVnode没有子节点, 而Vnode有, 则将Vnode的子节点真实化添加到el
· 如果都有子节点则执行updateChildren比较子节点</li> <li>updateChildren
· 将<code>Vnode</code>的子节点<code>Vchildren</code>和<code>oldVnode</code>的子节点<code>oldChildren</code>提取出来
· <code>oldChildren</code>和<code>vChildren</code>各有两个头尾的变量<code>StartIdx</code>和<code>EndIdx</code>，它们的2个变量相互比较，一共有4种比较方式。如果4种比较都没匹配，如果设置了<code>key</code>，就会用<code>key</code>进行比较，在比较的过程中，变量会往中间靠，一旦<code>StartIdx&gt;EndIdx</code>表明<code>oldChildren</code>和<code>vChildren</code>至少有一个已经遍历完了，就会结束比较。</li></ol> <p>现在分别对<code>oldS</code>、<code>oldE</code>、<code>S</code>、<code>E</code>两两做<code>sameVnode</code>比较，有四种比较方式，当其中两个能匹配上那么真实<code>dom</code>中的相应节点会移到<code>Vnode</code>相应的位置，这句话有点绕，打个比方
如果是<code>oldS</code>和<code>E</code>匹配上了，那么真实<code>dom</code>中的第一个节点会移到最后
如果是<code>oldE</code>和<code>S</code>匹配上了，那么真实<code>dom</code>中的最后一个节点会移到最前，匹配上的两个指针向中间移动
如果四种匹配没有一对是成功的，那么遍历<code>oldChild</code>，<code>S</code>挨个和他们匹配，匹配成功就在真实<code>dom</code>中将成功的节点移到最前面，如果依旧没有成功的，那么将<code>S</code>对应的节点插入到<code>dom</code>中对应的<code>oldS</code>位置，<code>oldS</code>和<code>S</code>指针向中间移动。</p> <h3 id="_05-组件化"><a href="#_05-组件化" class="header-anchor">#</a> 05-组件化</h3> <p><img src="/Vue/vue-components.png" alt="组件">
组件是可复用的Vue实例,且带有一个名字.我们可以在一个通过new Vue创建的Vue根实例中,把这个组件作为自定义元素来使用.
<strong>优点</strong>组件化是Vue的精髓,VUe应用是由一个个组件构成,可以大大增加代码的复用性,可维护性和可测试性.</p> <p>使用场景</p> <ul><li>通用组件: 实现基本功能,具有复用性,通用性. 例如按钮组件,输入框组件,布局组件 弹窗、级联、下拉菜单</li> <li>业务组件: 完成具体业务,具有一定的复用性,例如登录组件,轮播图组件</li> <li>页面组件: 组织应用各部分独立内容,需要时在不同页面组件之间切换, 例如列表页,详情页</li></ul> <h3 id="_06-vue设计理念"><a href="#_06-vue设计理念" class="header-anchor">#</a> 06-vue设计理念</h3> <ul><li>数据驱动应用</li> <li>mvvm模式践行者 mvvm 框架三要素 ( 响应式, 模板, 渲染 )
<img src="/Vue/mvvm.jpg" alt="mvvm"></li> <li>从Model到view的映射(Data Binging)这样可以大量节省寻找DOM来进行View Updata的代码</li> <li>从View到Model的事件监听(DOM Listenners), 这样Model会随着View触发事件而改变
流程图展示如下
<img src="/Vue/vue-mvvm.jpg" alt="mvvm">
组件更新的过程主要有两个阶段</li> <li>比对(diff)</li> <li>修改(diff的返回结果,输出生成的<code>patch</code>并操作)</li></ul> <p>整个数据更新到页面视图更新的流程是, <code>Vue</code>里的<code>mountComponent</code>创建<code>Watcher</code>,<code>Watcher</code>的<code>constructor</code>里调用<code>getter</code>,获取整个视图层直接关联的数据,从而触发属性的<code>getter</code>方法进行依赖收集.当监听数据的<code>setter</code>调用时触发<code>watcher.update</code>,而<code>updateComponent</code>即是<code>watcher</code>里作为回调的<code>getter</code>函数,从而在<code>updateComponent</code>中调用<code>_update</code>,<code>_update</code>再调用<code>__patch__</code>方法批量派发更新内容,web端的<code>patch</code>方法对最终的dom节点进行更新.</p> <ol><li>渐进式JavaScript框架  vue全家桶需要就添加</li> <li>易用性</li> <li>高效性</li> <li>灵活性</li></ol> <h3 id="_07-vue要求组件模版只有一个根元素"><a href="#_07-vue要求组件模版只有一个根元素" class="header-anchor">#</a> 07-vue要求组件模版只有一个根元素</h3> <p>单文件下的根元素作为树状数据结构的根,进行diff的时候可以保证每个vNode的唯一性,提高渲染效率 便于vue管理</p> <h3 id="_08-mvc、mvp和mvvm更多"><a href="#_08-mvc、mvp和mvvm更多" class="header-anchor">#</a> 08-MVC、MVP和MVVM更多</h3> <p>· MVC</p> <p>MVC的全称是Model View Controller 是模型(model 数据保存 )-视图(view 用户界面)-控制器(controller 业务逻辑)的缩写</p> <p>优点:</p> <ul><li><p>耦合性低</p></li> <li><p>重用性高</p></li> <li><p>生命周期成本低</p></li> <li><p>部署快</p></li> <li><p>可维护性高</p></li> <li><p>有利软件工程化管理</p> <p>缺点:</p></li> <li><p>没有明确的定义</p></li> <li><p>不适合小型，中等规模的应用程序</p></li> <li><p>增加系统结构和实现的复杂性</p></li> <li><p>视图与控制器间的过于紧密的连接</p></li> <li><p>视图对模型数据的低效率访问</p></li> <li><p>一般高级的界面工具或构造器不支持模式</p></li></ul> <p>数据通讯方向</p> <p><img src="/Vue/mvc-flowto.png" alt="mvc通讯方向"></p> <ul><li>用户可以向view发送指令(DOM事件), 再由view直接要求model改变状态</li> <li>用户也可以直接向controller发送指令(改变URL触发hashChange事件),再由controller发送给view</li> <li>controller非常薄,只是起到了路由的作用,而view非常厚,业务逻辑部署在view.ZW</li></ul> <p>· MVP</p> <p>MVC的全称是Model View Presenter</p> <p>优点:</p> <ul><li>模型和视图完全分离,我们可以修改视图而不修改模型</li> <li>可以更高效的使用模型,因为所有的交互都发生在Presenter内部</li> <li>我们可以将Presenter用于多个视图,而不需要改变Presenter的逻辑</li> <li>逻辑放在了Presenter中,可以脱离用户接口来进行单元测试</li></ul> <p>缺点:</p> <ul><li>视图与Presenter交互过于频繁,一单视图需要变更Presenter也需要改变</li></ul> <p>MVP与MVC的区别</p> <ul><li>在MVP中view并不直接使用model,他们之间通过Presenter来进行,所有的交互都发生在Presenter内保部,而在MVP中View会直接从Model中读取数据而不是通过Controller.</li> <li>在MVC模型里面,Model不依赖于View,但是View是依赖于Model的.不仅如此,一些业务逻辑在View里面实现了,导致更改View比较困难,且无法复用</li></ul> <p>数据通讯方向</p> <p><img src="/Vue/mvp-flowto.png" alt="mvp通讯方向"></p> <ul><li>各部分通讯都是双向的</li> <li>view和model不在发生联系,都通过presenter传递</li> <li>View非常薄,不部署任何业务逻辑,成为&quot;被动视图&quot;, 没有任何主动性,而Presenter非常厚,所有的逻辑都部署在那里.</li></ul> <p>· MVVM</p> <p>MVC的全称是Model View ViewModel</p> <p>优点:</p> <ul><li>低耦合</li> <li>可重用性</li> <li>独立开发</li> <li>可测试</li></ul> <p>MVP与MVvm的区别</p> <ul><li>基本上与MVP模式完全一致，唯一的区别是，它采用双向绑定(data-binding): View的 变动，自动反映在View Model，反之亦然。</li></ul> <p>数据通讯方向</p> <p><img src="/Vue/mvvm-flowto.png" alt="mvvm通讯方向"></p> <ul><li>从Model到view的映射(Data Binging)这样可以大量节省寻找DOM来进行View Updata的代码</li> <li>从View到Model的事件监听(DOM Listenners), 这样Model会随着View触发事件而改变</li></ul> <h3 id="_09-vue组件之间的通信"><a href="#_09-vue组件之间的通信" class="header-anchor">#</a> 09-vue组件之间的通信</h3> <p>· 父组件向子组件传值</p> <ul><li>props</li> <li>slot(插槽)</li></ul> <p>· 子组件向父组件传值</p> <ul><li><p>子组件 $emit() 父组件 $on()</p> <ul><li><p>$once 此次监听只触发一次</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// 一次性将这个日期选择器附加到一个输入框上</span>
  <span class="token comment">// 它会被挂载到 DOM 上。</span>
  <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Pikaday 是一个第三方日期选择器的库</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>picker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pikaday</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      field<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">,</span>
      format<span class="token operator">:</span> <span class="token string">'YYYY-MM-DD'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 在组件被销毁之前，</span>
  <span class="token comment">// 也销毁这个日期选择器。</span>
  <span class="token function-variable function">beforeDestroy</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>picker<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 变更为</span>
  <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> picker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pikaday</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      field<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">,</span>
      format<span class="token operator">:</span> <span class="token string">'YYYY-MM-DD'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$once</span><span class="token punctuation">(</span><span class="token string">'hook:beforeDestroy'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      picker<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li> <li><p>$off 移除自定义监听器</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//如果没有参数则移除所有事件监听</span>
  vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span> <span class="token comment">// 移除该事件的所有监听</span>
  vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> callbacl<span class="token punctuation">)</span> <span class="token comment">// 只移除这个回调的监听器</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>ref</p></li></ul> <p>· 父子之间调用</p> <ul><li><p>$refs</p> <p>ref被用来给元素或者子组件注册引用信息. 引用信息将会注册在父组件的$refs对象.如果在普通的DOM元素上使用,引用指向就是DOM元素:如果在子组件上使用,引用就指向组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token string">'input'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>ref是作为渲染结果被创建的,在初始渲染时不能访问他们</li> <li>$refs不是相应式的,不要视图用他在模板中做绑定数据</li> <li>当V-for用于元素或者组件时,引用信息将是包含DOM节点或者组件实例的数组</li></ul></li> <li><p>$root</p> <p>每个 <code>new Vue()</code>实例的子组件中,其根实例可以通过<code>$root</code> prototype进行访问</p></li> <li><p>$parent</p> <p><code>$parent</code> protorype可以用来从一个子组件访问父组件的实例. 他提供了一种机会,.可以在后期随时触达父级组件,以代替将数据以prop的方式传入子组件.</p></li> <li><p>$children</p> <p><code>$children</code>当前实例的直接子组件, <code>$children</code>并不保证顺序,也不是相应式的.是一个数组,直接儿子的集合.里面有<code>_uid</code>可以进行区分</p></li></ul> <p>·  子子之间传值</p> <ul><li><p>放到父组件中</p></li> <li><p>事件总线</p> <p>在Vue的原型上添加一个Vue实例作为事件总线,实现组件之间的相互通讯.而且不受组件关系的影响.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 组件</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'emitEvent'</span><span class="token punctuation">,</span> <span class="token parameter">params</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'emitEvent'</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <p>· 跨层级传值</p> <ul><li>依赖注入 <code>provide/inject</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 祖先组件 不需要知道哪些后代组件使用它提供的 property</span>
<span class="token function-variable function">provide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    parentName<span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 后代组件 不需要知道被注入的 property 来自哪里</span>
inject<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'parentName'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>· 使用Vuex进行状态管理</p> <h3 id="_10-vue优化"><a href="#_10-vue优化" class="header-anchor">#</a> 10-vue优化</h3> <ol><li>路由懒加载</li> <li>keep-alive缓存页面</li> <li>v-show/v-if注意</li> <li>v-if/v-for 避免同时使用</li> <li>长列表冻结不添加响应式 object.freeze()</li> <li>长列表虚拟滚动 react-window</li> <li>事件销毁</li> <li>图片懒加载 v-lazy</li> <li>第三方插件按需引入</li> <li>无状态组件标记为函数式组件</li> <li>子组件分割</li> <li>ssr</li></ol> <h3 id="_11-vue3特性"><a href="#_11-vue3特性" class="header-anchor">#</a> 11-vue3特性</h3> <ol><li>更快
· 虚拟DOM的重写
<ul><li>组件快速路径+ 单个调用 + 子节点类型检测 <code>createdFragment</code> <code>createdComponentVnode</code> <code>createdElementVnode</code></li> <li>跳过不必要的条件分支</li> <li>js引擎更容易优化
· 优化slots的生成</li> <li>可以单独重新渲染父级和子级</li> <li>避免不必要的父子组件重新渲染
· 静态树提升 <code>static</code> <ul><li>跳过修补整棵树,从而降低渲染成本</li> <li>即使出现多次也能正常工作
· 静态属性提升<code>static</code></li></ul></li> <li>跳过这些属性不会改变节点
· 基于proxy的响应式</li> <li>使用proxy作为其观察机制</li> <li>组件实例初始化速度提升100% 不用进行递归遍历</li> <li>使用proxy 节省以前一半的内存开销,加快速度</li> <li>为了兼容IE11 有一个兼容版本</li></ul></li> <li>更小 通过摇树优化核心库体积</li> <li>更容易维护 typescript + 模块化
<ul><li>使用TypeScripr进行解耦 更加模块化</li></ul></li> <li>跨屏平台</li> <li>更容易使用
· 改进typpeScript支持,编辑器提供强有力的类型检查和错误及井道
· 更高的调试支持
· 独立的响应化模块
· compositionApi
<ul><li><code>setup(props,context){}</code> 函数会在<code>beforeCreate</code>之后、<code>created</code>之前 接收外界传入的<code>props</code>,接受的组件必须<code>props</code>里需要声明否则拿不到传值.</li> <li><code>reactive()</code>函数接受一个普通对象,返回一个响应式的数据对象.想要使用必须先引入<code>reactive</code>,模板中想要使用该数据必须<code>return</code>出去,此函数只能在<code>setup</code>函数里使用.</li> <li><code>ref()</code>函数用来根据给定制创建一个响应式的数据对象,<code>ref()</code>函数调用的返回值是一个对象,</li> <li>两者区别 <code>reactive</code>创建一个集合响应式数据,<code>ref</code>创建单一响应式数据.</li> <li><code>isRef()</code>用来判断某个值是否是<code>ref()</code>创建出来的,应用场景当展开某个可能为ref创建出来的值:</li> <li><code>toRef()</code>函数可以将<code>reactive()</code>创建出来的响应式对象,转换为普通的对象(<code>reactive</code>创建之后的数据如果返回使用扩展运算符(...)，它创建的所有属性不再是响应式的.这是需要<code>toRefs</code>）</li> <li><code>computed()</code>用来创建计算属性,<code>computed()</code>函数的返回值是一个<code>ref</code>的实例</li> <li><code>watch()</code>函数用来监视某些数据项的变化,从而触发某些特定的操作.</li> <li>在s<code>etup()</code>函数内创建<code>watch</code>监听,会在当前组件被销毁才会停止,如果想明确的停止某个监听,可以掉用<code>watch</code>的返回值即可. <code>const stop=watch(count,(newVal,oldVal)=&gt;{})stop()</code></li> <li><code>provide</code>和<code>inject</code>可以时间嵌套组件之间数据传递.这两个函数只能在setup中使用.父组件中使用<code>provide()</code>函数向下传递数据,子组件使用<code>inject()</code>获取上层传递来的数据</li></ul></li></ol> <h3 id="_13-watch和computed的区别及使用场景"><a href="#_13-watch和computed的区别及使用场景" class="header-anchor">#</a> 13-watch和computed的区别及使用场景</h3> <ol><li>watch 一个值变化了,我要做很多事情,适用于一个值影响多个值, computed 一个值依赖于其他值,所依赖值发生变化,这个值也要跟着改变</li> <li>watch 初次渲染的时候并不会执行, computed 具有缓存特性,依赖值未发生变化时,不会重复执行</li> <li>watch 适合执行异步或者开销比较大的操作</li></ol> <h3 id="_14-vue生命周期的理解"><a href="#_14-vue生命周期的理解" class="header-anchor">#</a> 14-vue生命周期的理解</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> lifecycle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 初始化阶段</span>

  <span class="token comment">// 组件实例初始化之后,实例还未创建,数据观测,和event/watcher事件配置之前调用.</span>
  <span class="token comment">// 一般用于插件开发中执行一些初始化任务</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 组件实例创建完毕,数据观测,property和方法的运算,watch/event事件回调已完成配置.</span>
  <span class="token comment">// 各种省数据可以使用,常用于异步数据获取</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// 以下钩子在服务器端渲染期间不会被调用</span>

  <span class="token comment">// 未执行渲染,在挂载之前被调用:相关的render函数首次被调用,dom未创建</span>
  <span class="token function">beforeMounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// 初始化结束,dom已创建.可以访问数据和dom元素,</span>
  <span class="token comment">// 但不能保证所有的子组件一起被挂载,如果需等待整个视图都渲染完毕,可以在mounted内部使用 vm.$nextTick</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// 更新阶段</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 数据更新时,虚拟DOM打补丁之前 可获取更新前的各种状态</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// DOM组件已更新, 所有状态已是最新</span>
  <span class="token comment">// 销毁阶段</span>
  <span class="token function">bbeforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 实例销毁前,实例仍完全可用,可用于一些定时器或者订阅的取消</span>
  <span class="token comment">// 组件销毁后,该钩子被调用之后,</span>
  <span class="token comment">// 对应的Vue实例的所有指令都被解绑,所有的事件监听器被移除,所有的子实例也都被销毁</span>
  <span class="token function">detroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// keep-alive 特有周期</span>
  <span class="token function">actived</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// keep-alive缓存组件被激活时使用</span>
  <span class="token function">deactived</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// kepp-alive缓存组件停用时使用</span>

  <span class="token comment">// 2.5.0+ 增加</span>
  <span class="token function">errorCaptured</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 捕获一个来自子孙组件错误时被调用.此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 false 以阻止该错误继续向上传播。</span>

  <span class="token comment">// 1. 默认情况下,如果全局的config.errorHandler被定义,所有的错误仍会发送给他,因此这些错我仍然会单一的分析服务的地方进行汇报</span>
  <span class="token comment">// 2. 若果一个组件的继承或者父级从属链路中存在多个errorHandler钩子.则他们将会被相同的错误唤起.</span>
  <span class="token comment">// 3. 如果此errorCaptured钩子自身抛出一个错误,则这个新错误和原本捕获都会发送给全局的config.errorHandler</span>
  <span class="token comment">// 4. 一个errorCaptured钩子能够返回false以阻止错误继续向上传播,他会阻止其他任何被这个错误唤起的errorCaptured钩子和全局的config.errorHandler</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="_15-vuex使用及其理解"><a href="#_15-vuex使用及其理解" class="header-anchor">#</a> 15-vuex使用及其理解</h3> <p>Vuex是一个专为Vue.js应用程序开发的状态管理模式.它采用集中式存储管理应用的所有组件状态,并以相应的规则保证状态以一种可以预测的方式发生概念.</p> <ul><li><code>state</code>，驱动应用的数据源；</li> <li><code>view</code>，以声明方式将 state 映射到视图；</li> <li><code>actions</code>，响应在 view 上的用户输入导致的状态变化。</li></ul> <p><img src="/Vue/vue-vuex-flow.png" alt="单向数据流"></p> <p><img src="/Vue/vue-vuex.png" alt="vue单向数据流"></p> <p>component dispatch =&gt; action commit =&gt; mutation  mutate =&gt; state  render =&gt; component</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">//  state 存放状态</span>
    state<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//mutations state成员操作</span>
    mutations<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// getters 加工state成员给外界</span>
    getters<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 由于直接在mutation方法中进行异步操作，将会引起数据失效。</span>
    <span class="token comment">// 所以提供了Actions来专门进行异步操作，最终提交mutation方法。</span>
    <span class="token comment">// this.$store.dispatch('aEdit',{age:15})</span>
    actions<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 辅助函数</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapGetters <span class="token punctuation">,</span> mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> defaulet <span class="token punctuation">{</span>
   methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      add<span class="token operator">:</span> <span class="token string">'increment'</span> <span class="token comment">// 将 `this.add()` 映射为 `this.$store.dispatch('increment')`</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用对象展开运算符将此对象混入到外部对象中</span>
      <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span>
    <span class="token string">'doneTodosCount'</span><span class="token punctuation">,</span>
    <span class="token string">'anotherGetter'</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="_16-nexttick原理"><a href="#_16-nexttick原理" class="header-anchor">#</a> 16-nextTick原理</h3> <p>使用场景:
在进行数据获取后,需要对新视图进行下一步操作,或者其他操作时,发现获取不到DOM
原因:
vue在观察到数据变化时并不是直接更新DOM,而是开启一个队列,并缓冲在同一个事件循环中发生的所有数据改变,
在缓冲时会去除重复数据,从而避免不必要的计算和DOM操作
然后,在下一个事件循环tick中,Vue刷新队列并执行实际工作.</p> <p>使用顺序  Promise.then  &gt; mutationObserver &gt; setTimeout 目的是 延迟函数到 DOM 更新后再使用</p> <h3 id="_17-v-model"><a href="#_17-v-model" class="header-anchor">#</a> 17- v-model</h3> <p>语法糖</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token comment">&lt;!-- 通过v-on:input实现，修改数据影响模型中的数据，当input输入框发生变化，触发input事件 --&gt;</span>
    input事件: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>demoinput<span class="token punctuation">'</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handle<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_18-vue-router导航钩子"><a href="#_18-vue-router导航钩子" class="header-anchor">#</a> 18-vue-router导航钩子</h3> <ol><li>导航被触发。</li> <li>在失活的组件里调用 <code>beforeRouteLeave</code> 守卫。</li> <li>调用全局的 <code>beforeEach</code> 守卫。</li> <li>在重用的组件里调用 <code>beforeRouteUpdate</code> 守卫 (2.2+)。</li> <li>在路由配置里调用 <code>beforeEnter</code>。</li> <li>解析异步路由组件。</li> <li>在被激活的组件里调用 <code>beforeRouteEnter</code>。</li> <li>调用全局的 <code>beforeResolve</code> 守卫 (2.5+)。</li> <li>导航被确认。</li> <li>调用全局的 <code>afterEach</code> 钩子。</li> <li>触发 DOM 更新。</li> <li>调用 <code>beforeRouteEnter</code> 守卫中传给 <code>next</code> 的回调函数，创建好的组件实例会作为回调函数的参数传入。</li></ol> <h3 id="_19-递归组件"><a href="#_19-递归组件" class="header-anchor">#</a> 19-递归组件</h3> <p>组件自身调用自身, 必须有结束条件</p> <h3 id="_20-vue响应式"><a href="#_20-vue响应式" class="header-anchor">#</a> 20-vue响应式</h3> <p>Vue 实现 双向数据绑定 主要采用：数据劫持结合“发布-订阅”模式的方式，通过Object.defineProperty（）的 set 和 get，在数据变动时发布消息给订阅者触发监听。</p> <p>当你把一个普通的 <code>JavaScript</code> 对象传入 Vue 实例作为 <code>data</code> 选项，Vue 将遍历此对象所有的 <code>property</code>，并使用 <code>Object.defineProperty</code> 把这些 <code>property</code> 全部转为 <code>getter/setter</code>。每个组件实例都对应一个 <code>watcher</code> 实例，它会在组件渲染的过程中把“接触”过的数据 <code>property</code> 记录为依赖。之后当依赖项的 <code>setter</code> 触发时，会通知 <code>watcher</code>，从而使它关联的组件重新渲染。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/zhouyalongs/zhouyalongs.github.io/edit/master/docs/02.三大框架/1.Vue/13.常见问题/00.问题集合1.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=Vue%E8%A7%81%E9%97%AE%E9%A2%98" title="标签">#Vue见问题</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/02/21, 18:26:07</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/43320f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">源码解读2</div></a> <a href="/pages/ddcd99/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Hello World</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/43320f/" class="prev">源码解读2</a></span> <span class="next"><a href="/pages/ddcd99/">Hello World</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/1dbd9d/"><div>JavaScript常见问题</div></a> <span>02-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/e816fc/"><div>CSS常见问题</div></a> <span>02-21</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/dff53f/"><div>HTML常见问题</div></a> <span>02-21</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <!----> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div> <div title="选择主题色" class="button blur theme-mode-but iconfont icon-qiehuan"><ul class="select-box" style="display:none;"><li class="iconfont"><sub class="theme-select-block" style="background-color:#3eaf7c;"></sub> <span>生命绿</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#D59C12;"></sub> <span>收获黄</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#3498DB;"></sub> <span>天空蓝</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#E74C3C;"></sub> <span>激情红</span></li><li class="iconfont"><sub class="theme-select-block" style="background-color:#8e44ad;"></sub> <span>高贵紫</span></li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.e63ee0a0.js" defer></script><script src="/assets/js/3.7c9fc50b.js" defer></script><script src="/assets/js/4.f3463e41.js" defer></script><script src="/assets/js/51.60b96aa2.js" defer></script>
  </body>
</html>

---
title: JavaScript
categories: 
  - 前端延展
  - 面试
  - JavaScript
tags: 
  - 面试
date: 2022-02-07 18:44:55
permalink: /pages/7de15e/
---

## react性能优化最佳实践

1. pureComponent shouldComponentUpdate
2. useMemo useCallback

## Redux 中间件的原理

Redux 的中间件提供的是位于 action 被发起之后，到达 reducer 之前的扩展点，换而言之，原本 view -> action -> reducer -> store 的数据流加上中间件后变成了 view -> action -> middleware -> reducer -> store ，在这一环节我们可以做一些 “副作用” 的操作，如 异步请求、打印日志等。

## setState之后都发生了什么

1. this.setState(newState) =>
2. newState存入pending队列 =>
3. 调用enqueueUpdate =>
4. 是否处于批量更新模式 => 是的话将组件保存到dirtyComponents
5. 不是的话遍历dirtyComponents，调用updateComponent,更新pending state or props

## React 中 refs 的作用是什么？

Refs 是 React 提供给我们的安全访问 DOM 元素或者某个组件实例的句柄。我们可以为元素添加 ref 属性然后在回调函数中接受该元素在 DOM 树中的句柄，该值会作为回调函数的第一个参数返回：

## 什么是高阶组件？

一个高阶组件只是一个包装了另外一个 React 组件的 React 组件。这种形式通常实现为一个函数，本质上是一个类工厂（class factory）

1. 代码复用，逻辑抽象，抽离底层准备（bootstrap）代码
2. 渲染劫持
3. State 抽象和更改
4. Props 更改

## 受控组件与非受控组件区别

受控组件

在HTML中，标签`<input>、<textarea>、<select>`的值的改变通常是根据用户输入进行更新。在React中，可变状态通常保存在组件的状态属性中，并且只能使用 setState() 更新，而呈现表单的React组件也控制着在后续用户输入时该表单中发生的情况，以这种由React控制的输入表单元素而改变其值的方式，称为：“受控组件”。

非受控组件

表单数据由DOM本身处理。即不受setState()的控制，与传统的HTML表单输入相似，input输入值即显示最新值（使用 ref从DOM获取表单值）

## 函数组件及Hooks

1. 函数式组件，本质就是一个常规函数，接收一个参数 props 并返回一个 reactNodes，即 return 该组件需要输出的视图；
2. 函数式组件中没有 this 和生命周期函数；
3. 使用函数式组件时，应该尽量减少在函数中声明子函数，否则组件每次更新时都会重新创建这个函数。
